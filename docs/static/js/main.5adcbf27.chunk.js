(this["webpackJsonparena-dream-stream"]=this["webpackJsonparena-dream-stream"]||[]).push([[0],{12:function(e,t,n){e.exports=n(21)},17:function(e,t,n){},2:function(e,t,n){e.exports={root:"content_root__2RpRn",outerContainer:"content_outerContainer__2BZqH",innerContainer:"content_innerContainer__1BxGf",container:"content_container__3PSbZ",loader:"content_loader__2X1Q3",image:"content_image__3UnKa",show:"content_show__2_9hf",fill:"content_fill__2ah13",fadeIn:"content_fadeIn__IQHbI"}},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=(n(17),n(1)),u=n.n(i),s=n(3),l=n(4),f=n(5),m=n.n(f);function d(){return r.a.createElement("div",{className:m.a.root},r.a.createElement("div",{className:m.a.indicator},"snap"))}var p=n(2),h=n.n(p),v=n(6);function _(){return(_=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new Image;a.onload=function(){return e(a)},a.onerror=function(e){return n(e)},a.src=t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=r.a.useState(!0),n=Object(s.a)(t,2),c=n[0],o=n[1],i=r.a.useState(null),u=Object(s.a)(i,2),l=u[0],f=u[1];return Object(a.useEffect)((function(){e&&(o(!0),function(e){return _.apply(this,arguments)}(e).then((function(e){f(e),o(!1)})))}),[e]),{image:l,loading:c}}function b(e){var t=e.image,n=r.a.useState(!1),a=Object(s.a)(n,2),c=a[0],o=a[1];if(r.a.useEffect((function(){var e=setTimeout((function(){return o(!0)}),0);return function(){return clearTimeout(e)}}),[]),0===t.height)return null;var i=t.width/t.height>1?{maxWidth:"100%",width:t.width}:{maxHeight:"100%",height:t.height};return r.a.createElement("img",{alt:"main content",src:t.src,style:i,className:Object(v.a)(h.a.image,c&&h.a.show)})}function w(e){var t=e.data,n=g(null===t||void 0===t?void 0:t.image),a=n.image,c=n.loading;return r.a.createElement("div",{className:h.a.root},r.a.createElement("div",{className:h.a.outerContainer},r.a.createElement("div",{className:Object(v.a)(h.a.container)},r.a.createElement("div",{className:h.a.innerContainer},a&&r.a.createElement(b,{image:a}),r.a.createElement("div",{className:h.a.loader,style:{opacity:c?1:0}},r.a.createElement("div",{className:h.a.fill}))))))}function E(e,t){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getContent(n);case 2:return a=e.sent,localStorage.setItem("channel-info",JSON.stringify(a)),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(l.a)(u.a.mark((function e(t,n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("channel-info")){e.next=3;break}return e.abrupt("return",E(t,n));case 3:if(e.prev=3,r=JSON.parse(a),c=Date.now(),!(r.channel===n&&c<r.updated+12e5)){e.next=8;break}return e.abrupt("return",r.data);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:return e.abrupt("return",E(t,n));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function x(e,t){var n=r.a.useState(!0),a=Object(s.a)(n,2),c=a[0],o=a[1],i=r.a.useState(!1),u=Object(s.a)(i,2),l=u[0],f=u[1],m=r.a.useState(null),d=Object(s.a)(m,2),p=d[0],h=d[1];return r.a.useEffect((function(){o(!0),function(e,t){return j.apply(this,arguments)}(e,t).then((function(e){var t=e.filter((function(e){return e.image})),n=Math.floor(Math.random()*t.length);h(t[n]),o(!1)})).catch((function(e){console.error(e),o(!1),f(!0)}))}),[e,t]),{loading:c,failed:l,data:p}}var S=function(e){var t=x(e.arena,"rocks-not-nature"),n=t.failed,a=t.data;return r.a.createElement("div",{className:"App"},n&&r.a.createElement(d,null),!n&&r.a.createElement(w,{data:a}))},y=n(9),k=n(10),N=n(11);function C(e){return"Block"===e.base_class}function I(e){var t,n;return null!==(t=null===(n=e.contents)||void 0===n?void 0:n.filter(C).filter((function(e){return"Image"===e.class&&e.image})).map((function(e){var t;return{image:null===(t=e.image)||void 0===t?void 0:t.large.url}})))&&void 0!==t?t:[]}var B=new(function(){function e(t){Object(k.a)(this,e),this.arenaService=t}return Object(N.a)(e,[{key:"getContent",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.arenaService.channel(t);case 2:return n=e.sent,e.abrupt("return",{channel:t,data:I(n),updated:Date.now()});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(new y.ArenaClient);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,{arena:B})),document.getElementById("root"))},5:function(e,t,n){e.exports={root:"errored_root__2mzh4",indicator:"errored_indicator__1p0FO"}}},[[12,1,2]]]);
//# sourceMappingURL=main.5adcbf27.chunk.js.map